{% extends "cm_portal/geriatric_index.html" %}

{% block title %}| List of Residents{% endblock %}

{% block page_title %}| List of Residents{% endblock %}

{% block external %}
  <script type="text/javascript" src="/static/js/obj_list.js"></script>
{% endblock %}

{% block sidebar %}
    <p></p>
    {% if user.is_authenticated %}
      {% include 'cm_portal/user.html' %}
    {% endif %}    
    <li class="nav-item"><a class="nav-link active" href="{% url 'residents' %}">All residents</a></li>
    <li class="nav-item"><a class="nav-link" href="{% url 'relatives' %}">All relatives</a></li>    
    <li class="nav-item"><a class="nav-link" href="{% url 'physicians' %}">All physicians</a></li>
    <li class="nav-item"><a class="nav-link" href="{% url 'medical-abstracts' %}" >All medical abstracts</a></li>    
    <li class="nav-item"><a class="nav-link" href="{% url 'drugs' %}">All drugs</a></li>            
    <hr>    
    <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Archive</a>
      <div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 39px, 0px);">
	      <a class="dropdown-item" href="{% url 'residents-deceased' %}">Deceased residents</a>
	      <a class="dropdown-item" href="{% url 'residents-discharged' %}">Discharged residents</a>
	    </div>
    </li>
    <hr>        
    <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Reports</a>
      <div class="dropdown-menu" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 39px, 0px);">
		    <a class="dropdown-item" href="{% url 'residents' %}?reports=maintenance">Inventory of Medicines</a>
		    <a class="dropdown-item" href="{% url 'residents' %}?reports=osca">OSCA Numbers</a>
		    <a class="dropdown-item" href="#">Spiritual Profile</a>
	    </div>
    </li>
{% endblock %} 

{% block content %}

  <div class="btn-group" role="group" aria-label="Button group with nested dropdown">
	 <button type="button" class="btn btn-info">Sort By:</button>
	 <div class="btn-group" role="group">
	   <button id="btnGroupDrop3" type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
	   <div class="dropdown-menu" aria-labelledby="btnGroupDrop3" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 37px, 0px);">
		  <a class="dropdown-item" onclick="load_list('#resident_list', 'sort', 'atoz')" href="javascript:void(0);">A to Z</a>
		  <a class="dropdown-item" onclick="load_list('#resident_list', 'sort', 'building')" href="javascript:void(0);">Building</a>
		  <a class="dropdown-item" onclick="load_list('#resident_list', 'sort', 'admission')" href="javascript:void(0);">Date of admission</a>
		  <a class="dropdown-item" onclick="load_list('#resident_list', 'sort', 'birthday')" href="javascript:void(0);">Date of birth</a>		  
	   </div>
	 </div>
  </div>
  <p></p>
  <div id="resident_list">
          {% include 'cm_portal/resident_list.html' %}
  </div>
  <br>
  {% if perms.cm_portal.add_resident %}
          <a class="btn btn-primary" href="{% url 'resident-create' %}" role="button">Add a resident</a>
  {% else %}
          <a class="btn btn-primary disabled" href="{% url 'resident-create' %}" role="button">Add a resident</a>
  {% endif %}

{% endblock %}
