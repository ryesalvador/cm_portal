{% extends "cm_portal/base.html" %}

{% block title %}| Nursing Home{% endblock %}

{% load static %}

{% block sidebar %}     
    <li><a href="{% url 'nursing-home-index' %}">Home</a></li>
    <li><a href="{% url 'residents' %}">All residents</a></li>
    <li><a href="{% url 'relatives' %}">All relatives</a></li>
    <li><a href="{% url 'physicians' %}">All physicians</a></li>
    <hr>
    {% if user.is_authenticated %}
      <li>User: {{ user.get_username }}</li>
      <li><a href="{% url 'logout'%}">Logout</a></li>   
    {% else %}
      <li><a href="{% url 'login'%}?next={{request.path}}">Login</a></li>   
    {% endif %} 
{% endblock %}

{% block page_title %}| <a href="{% url 'nursing-home-index' %}">Nursing Home</a>{% endblock %}
{% block content %}
  <p>Welcome to <em>Camillus MedHaven Nursing Home Database</em>, where you can store resident profiles and other related information.</p>

  {% if user.is_authenticated %}
    <h2>Dynamic content</h2>
  
    <p>The library has the following record counts:</p>
    <ul>
      <li><strong>Residents: </strong>{{ num_residents }} <a href="{% url 'resident-create' %}">Add resident</a></li>
      <li><strong>Physicians: </strong>{{ num_physicians }} <a href="{% url 'physician-create' %}">Add physician</a></li>
      <li><strong>Relatives: </strong>{{ num_relatives }} <a href="{% url 'relative-create' %}">Add relative</a></li>    
    </ul>
  {% else %}
    <p>Please <a href="{% url 'login'%}?next={{request.path}}">login</a></p>
  {% endif %}
  
  
{% endblock %}