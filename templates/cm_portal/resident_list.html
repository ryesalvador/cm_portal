{% extends "cm_portal/nursing_home_index.html" %}

{% block title %}| List of Residents{% endblock %}

{% block page_title %}| List of Residents{% endblock %}

{% block external %}
<script type="text/javascript" src="/static/js/resident_list.js"></script>
{% endblock %}

{% block content %}
<div class="jumbotron">   
	<div class="btn-group" role="group" aria-label="Button group with nested dropdown">
		<button type="button" class="btn btn-info">Sort By:</button>
		<div class="btn-group" role="group">
			<button id="btnGroupDrop3" type="button" class="btn btn-info dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
			<div class="dropdown-menu" aria-labelledby="btnGroupDrop3" x-placement="bottom-start" style="position: absolute; will-change: transform; top: 0px; left: 0px; transform: translate3d(0px, 37px, 0px);">
				<a class="dropdown-item" href="#">Birthdays</a>				
				<a class="dropdown-item" id="link-bldg" href="#">Building</a>				
			</div>
		</div>
	</div>
	<p></p>
	<div id="list-all">
		{% if resident_list %}    
		<ul class="list-group">
			{% for resident in resident_list %}
				{% include "cm_portal/resident_list_item.html" %}
			{% endfor %}
		</ul>
		{% else %}
			<p>There are no residents in the portal.</p>  
		{% endif %}
	</div>
	<div id="list-by-bldg">
		<ul class="nav nav-tabs">
		  <li class="nav-item">
		    <a class="nav-link active show" data-toggle="tab" href="#rebuschini">Blessed Enrico Rebuschini</a>
		  </li>
		  <li class="nav-item">
		    <a class="nav-link" data-toggle="tab" href="#tezza">Blessed Luigi Tezza</a>
		  </li>
		  <li class="nav-item">
		    <a class="nav-link" data-toggle="tab" href="#first">St. Camillus - First Floor</a>
		  </li>
		  <li class="nav-item">
		    <a class="nav-link" data-toggle="tab" href="#second">St. Camillus - Second Floor</a>
		  </li>
		</ul>
		<div id="myTabContent" class="tab-content">
		  <div class="tab-pane fade active show" id="rebuschini">
		    <ul class="list-group">
		    {% for resident in rebuschini %}        
		      {% include 'cm_portal/resident_list_item.html' %}        
		    {% endfor%}
		    </ul>
		  </div>
		  <div class="tab-pane fade" id="tezza">
		    <ul class="list-group">
		    {% for resident in tezza %}        
		      {% include 'cm_portal/resident_list_item.html' %}        
		    {% endfor%}
		    </ul>    
		  </div>
		  <div class="tab-pane fade" id="first">
		    <ul class="list-group">
		    {% for resident in first_floor %}        
		      {% include 'cm_portal/resident_list_item.html' %}        
		    {% endfor%}
		    </ul>
		  </div>
		  <div class="tab-pane fade" id="second">
		    <ul class="list-group">
		    {% for resident in second_floor %}        
		      {% include 'cm_portal/resident_list_item.html' %}        
		    {% endfor%}
		    </ul>
		  </div>
		</div>
	</div> 
	<br>
	{% if perms.cm_portal.add_resident %}
		<a class="btn btn-primary" href="{% url 'resident-create' %}" role="button">Add a resident</a>
	{% else %}      
		<a class="btn btn-primary disabled" href="{% url 'resident-create' %}" role="button">Add a resident</a>
	{% endif %}
</div>
{% endblock %}